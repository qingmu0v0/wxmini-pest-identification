# 配置文件示例
# 复制此文件为 application.yml 并修改相应配置

server:
  port: 8080
  servlet:
    context-path: /api

spring:
  application:
    name: plant-pest-analysis
  
  # 文件上传配置
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
  
  # 数据库配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/plant_pest?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: your_password_here
  
  # MyBatis Plus配置
  mybatis-plus:
    configuration:
      map-underscore-to-camel-case: true
      log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    global-config:
      db-config:
        logic-delete-field: deleted
        logic-delete-value: 1
        logic-not-delete-value: 0

# 文件存储配置
file:
  upload-dir: ./uploads
  
# AI模型配置
ai:
  # 默认使用的模型
  default-model: qwen3
  
  # QWEN3配置（通义千问）
  qwen3:
    enabled: true
    # 从环境变量获取，或直接填写: your-qwen-api-key
    api-key: ${QWEN_API_KEY:your-qwen-api-key}
    endpoint: https://dashscope.aliyuncs.com/api/v1/services/aigc/multimodal-generation/generation
    model: qwen-vl-plus
  
  # GPT-4 Vision配置（可选）
  gpt4:
    enabled: false
    api-key: ${OPENAI_API_KEY:your-openai-api-key}
    endpoint: https://api.openai.com/v1/chat/completions
    model: gpt-4-vision-preview
  
  # Claude配置（可选）
  claude:
    enabled: false
    api-key: ${CLAUDE_API_KEY:your-claude-api-key}
    endpoint: https://api.anthropic.com/v1/messages
    model: claude-3-opus-20240229

# 跨域配置
cors:
  allowed-origins: 
    - http://localhost:8081
    - http://localhost:8082
    - https://your-domain.com
  allowed-methods: 
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS

# 日志配置
logging:
  level:
    com.plantpest: INFO
    root: INFO
  file:
    name: logs/plant-pest.log
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
